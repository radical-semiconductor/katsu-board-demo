@inject HttpClient http

<MudButton Disabled="@_processing_purgekeys" OnClick="PurgeKeys" Variant="Variant.Filled" Color="Color.Secondary">
    <MudIcon Size="Size.Small" Class="mr-1 ms-n2" Icon="@Icons.Material.Filled.DeleteForever" Title="Delete" />
    <MudText>Purge All Keys</MudText>
</MudButton>

@code {
    private bool _processing_purgekeys = false;

    private async Task PurgeKeys()
    {
        _processing_purgekeys = true;
        await http.GetAsync("/api/keys/purge");
        _processing_purgekeys = false;
    }
}