@inject HttpClient http

<MudButton Disabled="@_processing" OnClick="GenerateKeys" Variant="Variant.Filled" Color="Color.Primary">
    @if (_processing)
    {
        <MudProgressCircular Size="Size.Small" Indeterminate="true"/>
    }
    else
    {
        <MudIcon Size="Size.Small" Icon="@Icons.Material.Filled.AddCircle" Title="Add" />
    }
    <MudText>Generate Keys</MudText>
</MudButton>

@code {
    private bool _processing = false;

    private async Task GenerateKeys()
    {
        _processing = true;
        await http.GetAsync("/api/keys/generate");
        _processing = false;
    }
}